<html>

<body>

  <table id='results'>
  	<tr>
  	    <th>year</th>
  	    <th>addition</th>
  	    <th>total principal</th>
  	    <th>new interest</th>
  	    <th>total interest</th>
  	<th>total</th>
  </tr>
  </table>

  Years: <input type = 'number' id = 'years'><br>
  Interest: <input type = 'number' id = 'rate'><br>
  Monthly investment: <input type = 'number' id = 'amount'><br>
  Initial deposit: <input type = 'number' id = 'initial'><br>

  <button type = 'button' id ='go'>Click for results</button>

  <script>
  	class Year{
        constructor(year,addition,totalPrincipal,newInterest,totalInterest,total){
        	this.year = year;
        	this.addition = addition;
        	this.totalPrincipal = totalPrincipal;
        	this.newInterest = newInterest;
        	this.totalInterest = totalInterest;
        	this.total = total;
        }
  }


 function numberCommas(x){
 	let y = x.toString();
 	console.log(y.length);

 	let b = y.slice(-7,(y.length));
 	if(y.length>8){
 	let c = y.slice(-8,-6);
    }
    /*if(y.length>){
       
    }
 	let d = y.slice(-10,-8);
 	let e = y.slice(-12, -10);
 	let f = y.slice(-14,-16);*/
 	console.log(f+','+e+','+d + ',' + c + ',' + b);
 }



 function showResults(){

  const years = document.getElementById('years').value;
  const rate = document.getElementById('rate').value;
  const amount = document.getElementById('amount').value;
  const initial = document.getElementById('initial').value;


  let newInterest = 0;
  let totalInterest = 0;
  let total = initial;
  let totalPrincipal = 0;

 	for (i=0;i<years;i++){
       let year = i+1;
       let addition = amount*12;
        totalPrincipal = totalPrincipal + addition;
        newInterest = total * (rate/100);
        totalInterest = totalInterest + newInterest;
        total = totalInterest + totalPrincipal;

       let newYear = new Year(year,addition.toFixed(2),totalPrincipal.toFixed(2),newInterest.toFixed(2),totalInterest.toFixed(2),total.toFixed(2));

       let list = document.createElement('TR');
       let table = document.getElementById('results');

       list.innerHTML = `
       <tr>
       <td>${newYear.year}</td>
       <td>${newYear.addition}</td>
       <td>${newYear.totalPrincipal}</td>
       <td>${newYear.newInterest}</td>
       <td>${newYear.totalInterest}</td>
       <td>${newYear.total}</td>
       </tr>
       `
       table.appendChild(list);
       //console.log(newYear);
 	}
 }

 function salaryGrowth(pay,rate){
      for(i=0;i<9;i++){
      	x = 9-8;
      	pay = pay*(x+(rate/(x*200/2)));
      	console.log(i+x);
      	console.log(pay);
      }
 }


 document.getElementById('go').addEventListener('click', showResults);

//numberCommas('bcdefghi')

 </script>

</body>
</html>